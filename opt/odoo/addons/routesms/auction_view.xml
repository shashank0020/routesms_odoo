<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

<!-- TOP MENU -->
		<menuitem name="Sales" id="base.menu_sales" parent="base.menu_base_partner" sequence="2"/>
            
        <menuitem id="main_menu_partner_auction" name="Bid On Partners"
            parent="base.menu_base_partner" sequence="1" />
<!-- ENDS -->

<!-- INSTRUCTION PAGE -->
        <template id="partner_auction_instruction" name="Partner Auction Instructions" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/routesms/static/src/css/routesms.css"/>
                <script type="text/javascript" src="/routesms/static/src/js/routesms.js"/>
            </xpath>
        </template>

        <record id="action_partner_auction_instruction" model="ir.actions.client">
            <field name="name">Instructions</field>
            <field name="tag">routesms.partnerauction</field>
        </record>

        <menuitem id="partner_auction_menu" name="Read Me" parent="main_menu_partner_auction"
            action="action_partner_auction_instruction" sequence="1"/>


<!-- ENDS -->

<!-- BID ON PARTNERS(ROHAN GUPTA CLIENTS) --> 

		<!-- Tree view starts -->
		<record id="view_res_partner_auction_tree" model="ir.ui.view">
			<field name="name">res.partner.auction.tree</field>
			<field name="model">res.partner.auction</field>
			<field name="arch" type="xml">
				<tree string="Partners" editable="top" create="false">
					<field name="partner_id" invisible="1" readonly="1"/>
					<field name="time_left" readonly="1"/>
					<field name="name" readonly="1"/>
					<field name="user_id" invisible="1" 	readonly="1"/>
					<field name="partner_active" readonly="1"/>
					<field name="creation_date" invisible="1" readonly="1"/>
					<field name="bid" invisible="1" readonly="1"/>
					<field name="customer" invisible="0" readonly="1"/> 
					<field name="supplier" invisible="0" readonly="1"/>					
					<field name="odoo_id" readonly="1"/>
					<field name="account_type" readonly="1"/>
					<field name="country" readonly="1"/>
					<field name="lead_status" readonly="1"/>
					<field name="participants" widget="many2many_tags" invisible="1" readonly="1"/>
					<field name="participants_names" readonly="1"/>
					<field name="total_participant" readonly="1" />
					
					<button name="bid_on_partner" type="object" string="Bid" class="oe_highlight" icon="terp-bid"/>
				</tree>
			</field>
		</record>

		<!-- Tree view end -->

		<!-- Tree view starts bidded partners -->
		<record id="view_res_partner_auction_bidded_tree" model="ir.ui.view">
			<field name="name">res.partner.auction.bidded.tree</field>
			<field name="model">res.partner.auction</field>
			<field name="arch" type="xml">
				<tree string="Partners" editable="bottom" create="false">
					<field name="partner_id" invisible="1" readonly="1"/>
					<field name="time_left" readonly="1"/>
					<field name="name" readonly="1"/>
					<field name="user_id" readonly="1"/>
					<field name="partner_active" readonly="1"/>
					<field name="creation_date" invisible="1" readonly="1"/>
					<field name="bid" invisible="1" readonly="1"/>
					<field name="customer" invisible="0" readonly="1"/> 
					<field name="supplier" invisible="0" readonly="1"/>					
					<field name="odoo_id" readonly="1"/>
					<field name="account_type" readonly="1"/>
					<field name="country" readonly="1"/>
					<field name="lead_status" readonly="1"/>
					<field name="participants" widget="many2many_tags" invisible="1"  readonly="1"/>
					<field name="participants_names" readonly="1"/>
					<field name="total_participant" readonly="1" />
				</tree>
			</field>
		</record>
		<!-- Tree view end -->


		<!-- Tree view starts for  nobidded partners -->
		<record id="view_res_partner_auction_nobid_tree" model="ir.ui.view">
			<field name="name">res.partner.auction.nobid.tree</field>
			<field name="model">res.partner.auction</field>
			<field name="arch" type="xml">
				<tree string="Partners" editable="bottom" create="false">
					<field name="partner_id" invisible="1" readonly="1"/>
					<field name="time_left" readonly="1"/>
					<field name="name" readonly="1"/>
					<field name="user_id" invisible="1" readonly="1"/>
					<field name="partner_active" readonly="1"/>
					<field name="creation_date" invisible="1" readonly="1"/>
					<field name="bid" invisible="1" readonly="1"/>
					<field name="customer" invisible="0" readonly="1"/> 
					<field name="supplier" invisible="0" readonly="1"/>					
					<field name="odoo_id" readonly="1"/>
					<field name="account_type" readonly="1"/>
					<field name="country" readonly="1"/>
					<field name="lead_status" readonly="1"/>
					<field name="participants" widget="many2many_tags" invisible="1"  readonly="1"/>
					<field name="participants_names" readonly="1"/>
					<field name="total_participant" readonly="1" />
				</tree>
			</field>
		</record>

		<!-- Tree view end -->


		<!-- Action view starts for partner bid-->
		<record id="action_res_partner_auction" model="ir.actions.act_window">
			<field name="name">Partner Auction</field>
			<field name="res_model">res.partner.auction</field>
			<field name='view_type'>form</field>
			<field name='view_mode'>tree</field>
			<field name="view_id" ref="view_res_partner_auction_tree"/>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">No Record Found .</p>
			</field>
		</record>
		<!-- Action view ends -->

		<!-- Action view starts for partner already bid-->
		<record id="action_res_partner_auction_bidded" model="ir.actions.act_window">
			<field name="name">Partner Bid</field>
			<field name="res_model">res.partner.auction</field>
			<field name='view_type'>form</field>
			<field name='view_mode'>tree</field>
			<field name="view_id" ref="view_res_partner_auction_bidded_tree"/>
			<field name="domain">[('bid','=',True)]</field>
			<field name="context">{'bid': True}</field>			

			<field name="help" type="html">
				<p class="oe_view_nocontent_create">No Record Found .</p>
			</field>
		</record>
		<!-- Action view ends -->

		<!-- Action view starts for partner not bidded-->
		<record id="action_res_partner_auction_nobid" model="ir.actions.act_window">
			<field name="name">Inactive Bid</field>
			<field name="res_model">res.partner.auction</field>
			<field name='view_type'>form</field>
			<field name='view_mode'>tree</field>
			<field name="view_id" ref="view_res_partner_auction_nobid_tree"/>
			<field name="domain">[('bid','=',False)]</field>
			<field name="context">{'bid': False}</field>			

			<field name="help" type="html">
				<p class="oe_view_nocontent_create">No Record Found .</p>
			</field>
		</record>
		<!-- Action view ends -->
		
		<!-- Menuitems starts -->
		<menuitem action="action_res_partner_auction" name="Partner Auction (Phase 1)" id="menu_res_partner_auction" parent="main_menu_partner_auction" sequence="2"
			/>
		<menuitem action="action_res_partner_auction_bidded" name="Active Bid (Phase 1) " id="menu_res_partner_auction_bidded" parent="main_menu_partner_auction" sequence="3"
			groups="account.group_account_manager,account.group_account_user"/>
		<menuitem action="action_res_partner_auction_nobid" name="No Bid (Phase 1)" id="menu_res_partner_auction_nobid" parent="main_menu_partner_auction" sequence="4"
			groups="account.group_account_manager,account.group_account_user"/>
		<!-- Menuitems ends -->

	</data>
</openerp>
